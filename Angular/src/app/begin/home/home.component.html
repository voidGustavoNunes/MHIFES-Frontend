<div class="caixa">
    <!-- <div class="background"></div> -->
    <div class="card">
        <p>Seja bem-vindo ao MHIFES! Aqui, onde seu horário individual está sempre à vista, seja para a semana ou para o horário mais próximo.</p>
        <div class="rdButton">
            <div class="flex align-items-center" *ngFor="let horario of filterOptions" class="field-checkbox">
                <p-radioButton  [inputId]="horario.id.toString()" [value]="horario" [(ngModel)]="selectedFilter" name="horario" inputId="ingredient1"></p-radioButton>
                <label [for]="horario.id" class="ml-2">{{ horario.nome }}</label>
            </div>
        </div>
            
        <div class="eqTable" *ngIf="selectedFilter.id === 0">
            <p-table styleClass="p-datatable-striped" [tableStyle]="{'min-width': '50vw'}" >
                <ng-template pTemplate="header" let-columns>
                    <tr class="tbHeader">
                        <th>Horário</th>
                        <th>{{ diaSemanaExibido }}</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body">
                    <tr class="tbBody">
                        <td>{{ formatarHora(alocaoMaisProxima.horario.horaInicio) }} - {{ formatarHora(alocaoMaisProxima.horario.horaFim) }}</td>
                        <td>{{ alocaoMaisProxima.periodoDisciplina.disciplina.sigla }}</td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3">Não há horário definido para hoje.</td>
                  </tr>
                </ng-template>
            </p-table>

            <div *ngIf="alocaoMaisProxima">
                <ul>
                    <li>{{ alocaoMaisProxima.periodoDisciplina.disciplina.sigla }} - {{ alocaoMaisProxima.periodoDisciplina.disciplina.nome }}</li>
                </ul>
            </div>
        </div>
            
        <div class="eqTable" *ngIf="selectedFilter.id === 1">
            <p-table [value]="alocacoesAgrupadas" styleClass="p-datatable-striped" [tableStyle]="{'min-width': '50vw'}" >
                <ng-template pTemplate="header" let-columns>
                    <tr class="tbHeader">
                        <th>Horário</th>
                        <th>Seg</th>
                        <th>Ter</th>
                        <th>Qua</th>
                        <th>Qui</th>
                        <th>Sex</th>
                        <th>Sáb</th>
                    </tr>
                </ng-template>
                <ng-template pTemplate="body" let-grupo>
                    <tr class="tbBody">
                        <td class="larguraFixa">{{ formatarHora(grupo[0].horario.horaInicio) }} - {{ formatarHora(grupo[0].horario.horaFim) }}</td>
                        <td *ngFor="let aloca of grupo">
                            <ng-container *ngFor="let dia of diasDaSemana; let i = index">
                                <ng-container *ngIf="exibirAlocacao(aloca, dia) && i != 0">
                                    {{ aloca?.periodoDisciplina?.disciplina.sigla }} - {{ aloca?.local?.nome }}
                                </ng-container>
                            </ng-container>
                        </td>
                    </tr>
                </ng-template>
                <ng-template pTemplate="emptymessage">
                  <tr>
                    <td colspan="3">Não há horário definido para o período.</td>
                  </tr>
                </ng-template>
            </p-table>

            <div class="discSigla">
                <ul>
                    <li *ngFor="let aloc of alocacoesUser">
                        {{ aloc?.periodoDisciplina?.disciplina?.sigla }} - {{ aloc?.periodoDisciplina?.disciplina?.nome }} - {{ aloc?.professor?.nome }}
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>